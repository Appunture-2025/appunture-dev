sequenceDiagram
    participant A as Administrador
    participant PM as Point Mapper Tool
    participant FS as File System
    participant API as Backend API
    participant DB as Firestore

    A->>PM: Abre point-mapper.html
    PM-->>A: Exibir interface

    A->>PM: Seleciona arquivo SVG
    PM->>FS: Carregar SVG
    FS-->>PM: Conteudo SVG
    PM-->>A: Exibir ilustracao anatomica

    A->>PM: Carrega JSON de pontos existentes
    PM->>FS: Ler arquivo JSON
    FS-->>PM: Lista de pontos
    PM-->>A: Exibir pontos ja mapeados

    A->>PM: Seleciona ponto na lista
    A->>PM: Clica na posicao do SVG
    PM->>PM: Capturar coordenadas (x, y)
    PM-->>A: Preview do marcador

    A->>PM: Ajusta posicao (drag and drop)
    A->>PM: Confirma posicao
    PM->>PM: Salvar no estado local

    A->>PM: Clica em Exportar JSON
    PM->>FS: Download arquivo JSON

    A->>API: PUT /admin/atlas/coordinates
    API->>API: Validar permissao ADMIN
    loop Para cada ponto
        API->>DB: Atualizar documento
    end
    DB-->>API: Confirmacao
    API-->>A: 200 OK
